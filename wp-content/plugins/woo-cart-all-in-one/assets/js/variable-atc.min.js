jQuery(document).ready((function(a){"use strict";a(document).on("change",".vi-wcaio-va-qty-input",(function(t){let i=parseFloat(a(this).val()),o=parseFloat(a(this).attr("min")),c=parseFloat(a(this).attr("max"));o>i&&(i=o),i>c&&(i=c),a(this).val(i)})),a(document).on("click",".vi-wcaio-va-change-qty",(function(t){t.preventDefault(),t.stopPropagation();let i=a(this).closest(".vi-wcaio-va-qty-wrap").find(".vi-wcaio-va-qty-input"),o=parseFloat(i.val()),c=parseFloat(i.attr("step"));a(this).hasClass("vi-wcaio-va-qty-add")?o+=c:o-=c,i.val(o).trigger("change")})),a(document).on("click",".vi-wcaio-va-product-bt-atc-cancel, .vi-wcaio-va-cart-form-overlay",(function(){a(".vi-wcaio-va-cart-form-wrap-wrap").remove()})),a(document).on("click",".vi-wcaio-loop-variable-bt-atc:not(.vicatna-loop-atc-button)",(function(t){t.preventDefault(),t.stopPropagation();let i=a(this),o=a(this).data("product_id")||"";o||(i=i.closest("a.vi-wcaio-loop-variable-bt-atc"),o=i.data("product_id")||""),o||(window.location.href=i.attr("href")),a.ajax({url:viwcaio_va_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_show_variation"),type:"POST",data:{product_id:o,vicaio_nonce:viwcaio_ajax_atc_params.nonce},beforeSend:function(){i.addClass("vi-wcaio-product-bt-atc-loading")},success:function(t){if("error"===t.status&&t.url)return window.location.href=t.url,!1;a(document.body).prepend(t.html),a(".vi-wcaio-va-cart-swatches:not(.vi-wcaio-va-cart-swatches-init)").each((function(){a(this).addClass("vi-wcaio-va-cart-swatches-init vi_wpvs_variation_form").viwcaio_get_variations(viwcaio_va_params),a(this).find(".babystreet-wcs-swatches").length&&a(this).babystreet_wcs_variation_swatches_form()})),a(document.body).trigger("vi_wpvs_variation_form")},complete:function(){i.removeClass("vi-wcaio-product-bt-atc-loading")}})}))}));